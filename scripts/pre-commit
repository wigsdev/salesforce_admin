#!/bin/sh
# Git Pre-Commit Hook

echo "--------------------------------------------------------"
echo "üîç Ejecutando Verificaci√≥n Autom√°tica Pre-Commit..."
echo "--------------------------------------------------------"

# Detectar el script de tests relativo a la ra√≠z del repo
# Git ejecuta el hook desde la ra√≠z del repositorio
./scripts/run_tests.bat

if [ $? -ne 0 ]; then
    echo " "
    echo "‚ùå ERROR: Los tests fallaron. El commit ha sido cancelado."
    echo "üí° Corrige los errores o usa 'git commit --no-verify' para forzar."
    echo "--------------------------------------------------------"
    exit 1
fi

echo "‚úÖ Verificaci√≥n exitosa. Procediendo con el commit..."
exit 0
